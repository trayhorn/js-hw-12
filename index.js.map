{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nexport default async function fetchImages(searchQuery, page) {\n  const response = await axios.get('https://pixabay.com/api/', {\n    params: {\n      key: '29734383-6ec437d7a0c5df52cef54a0f9',\n      q: searchQuery,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n      page,\n      per_page: 16,\n    },\n  });\n\n  return response;\n}\n","export default function createMarkUp(arr) {\n  return arr\n    .map(\n      el =>\n        `<li class=\"gallery-item\">\n            <a class=\"item-link\" href=\"${el.largeImageURL}\">\n              <img\n                class=\"item-image\"\n                src=\"${el.webformatURL}\"\n                alt=\"${el.tags}\"\n              >\n            </a>\n            <div class=\"item-stats_container\">\n              <p class=\"item-stats\"><span>Likes</span>${el.likes}</p>\n              <p class=\"item-stats\"><span>Views</span>${el.views}</p>\n              <p class=\"item-stats\"><span>Comments</span>${el.comments}</p>\n              <p class=\"item-stats\"><span>Downloads</span>${el.downloads}</p>\n            </div>\n          </li>`\n    )\n    .join('');\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport fetchImages from './js/pixabay-api';\nimport createMarkUp from './js/render-functions';\n\nconst form = document.querySelector('.js-form');\nconst gallery = document.querySelector('.js-gallery');\nconst loadButton = document.querySelector('.js-load-button');\n\nlet page = 1;\nlet searchQuery;\n\nconst lightbox = new SimpleLightbox('.item-link', {\n  captions: true,\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nform.addEventListener('submit', handleSearch);\nloadButton.addEventListener('click', handleLoadMore)\n\nfunction handleSearch(e) {\n  e.preventDefault();\n  gallery.innerHTML = '';\n\n  searchQuery = e.currentTarget.elements.query.value;\n\n  if (searchQuery === '') {\n    iziToast.error({\n      message: 'Please enter a value!',\n    });\n    return;\n  };\n\n  fetchImages(searchQuery, page)\n    .then(({ data: { hits } }) => {\n      if (hits.length === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        })\n        return;\n      }\n      gallery.insertAdjacentHTML('beforeend', createMarkUp(hits));\n      lightbox.refresh();\n      loadButton.classList.remove('is-hidden');\n      page++;\n    })\n    .catch(() => {\n      iziToast.error({\n        title: 'Error',\n        message: 'Please try again',\n      });\n    });\n}\n\n\nfunction handleLoadMore() {\n  fetchImages(searchQuery, page).then(({ data: { hits } }) => {\n    gallery.insertAdjacentHTML('beforeend', createMarkUp(hits));\n    lightbox.refresh();\n  })\n\n  page++;\n}\n\n"],"names":["fetchImages","searchQuery","page","axios","createMarkUp","arr","el","form","gallery","loadButton","lightbox","SimpleLightbox","handleSearch","handleLoadMore","e","iziToast","hits"],"mappings":"+vBAEe,eAAeA,EAAYC,EAAaC,EAAM,CAa3D,OAZiB,MAAMC,EAAM,IAAI,2BAA4B,CAC3D,OAAQ,CACN,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,KAAAC,EACA,SAAU,EACX,CACL,CAAG,CAGH,CChBe,SAASE,EAAaC,EAAK,CACxC,OAAOA,EACJ,IACCC,GACE;AAAA,yCACiCA,EAAG,aAAa;AAAA;AAAA;AAAA,uBAGlCA,EAAG,YAAY;AAAA,uBACfA,EAAG,IAAI;AAAA;AAAA;AAAA;AAAA,wDAI0BA,EAAG,KAAK;AAAA,wDACRA,EAAG,KAAK;AAAA,2DACLA,EAAG,QAAQ;AAAA,4DACVA,EAAG,SAAS;AAAA;AAAA,gBAGnE,EACA,KAAK,EAAE,CACZ,CCdA,MAAMC,EAAO,SAAS,cAAc,UAAU,EACxCC,EAAU,SAAS,cAAc,aAAa,EAC9CC,EAAa,SAAS,cAAc,iBAAiB,EAE3D,IAAIP,EAAO,EACPD,EAEJ,MAAMS,EAAW,IAAIC,EAAe,aAAc,CAChD,SAAU,GACV,aAAc,MACd,aAAc,GAChB,CAAC,EAEDJ,EAAK,iBAAiB,SAAUK,CAAY,EAC5CH,EAAW,iBAAiB,QAASI,CAAc,EAEnD,SAASD,EAAaE,EAAG,CAMvB,GALAA,EAAE,eAAc,EAChBN,EAAQ,UAAY,GAEpBP,EAAca,EAAE,cAAc,SAAS,MAAM,MAEzCb,IAAgB,GAAI,CACtBc,EAAS,MAAM,CACb,QAAS,uBACf,CAAK,EACD,MAEJ,CACEf,EAAYC,EAAaC,CAAI,EAC1B,KAAK,CAAC,CAAE,KAAM,CAAE,KAAAc,CAAM,CAAA,IAAO,CAC5B,GAAIA,EAAK,SAAW,EAAG,CACrBD,EAAS,MAAM,CACb,QACE,0EACZ,CAAS,EACD,MACD,CACDP,EAAQ,mBAAmB,YAAaJ,EAAaY,CAAI,CAAC,EAC1DN,EAAS,QAAO,EAChBD,EAAW,UAAU,OAAO,WAAW,EACvCP,GACN,CAAK,EACA,MAAM,IAAM,CACXa,EAAS,MAAM,CACb,MAAO,QACP,QAAS,kBACjB,CAAO,CACP,CAAK,CACL,CAGA,SAASF,GAAiB,CACxBb,EAAYC,EAAaC,CAAI,EAAE,KAAK,CAAC,CAAE,KAAM,CAAE,KAAAc,CAAI,KAAS,CAC1DR,EAAQ,mBAAmB,YAAaJ,EAAaY,CAAI,CAAC,EAC1DN,EAAS,QAAO,CACpB,CAAG,EAEDR,GACF"}